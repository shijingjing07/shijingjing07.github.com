<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  
  <title>HTTP长连接和短连接 | 迪米特</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  
    <meta name="author" content="迪米特">
  
  
    <meta name="description" content="1.HTTP协议的五大特点1)支持客户/服务器模式2)简单快速3)灵活4)无连接每次连接只处理一个请求，服务器处理完客户的请求，并受到客户的应答后，断开连接。5)无状态协议不会记录服务器客户端状态。
2.保持HTTP连接状态的两种方式1)Cookie在访问统一网站时，可以将信息写入cookie，方便在不同的页面间提取信息。
2)SessionSession保存在服务器上，同时将标识Session的">
  
  <meta name="description" content="1.HTTP协议的五大特点1)支持客户/服务器模式2)简单快速3)灵活4)无连接每次连接只处理一个请求，服务器处理完客户的请求，并受到客户的应答后，断开连接。5)无状态协议不会记录服务器客户端状态。
2.保持HTTP连接状态的两种方式1)Cookie在访问统一网站时，可以将信息写入cookie，方便在不同的页面间提取信息。
2)SessionSession保存在服务器上，同时将标识Session的">
<meta property="og:type" content="article">
<meta property="og:title" content="HTTP长连接和短连接">
<meta property="og:url" content="https://shijingjing07.github.io/2016/12/28/HTTP长连接和短连接/index.html">
<meta property="og:site_name" content="迪米特">
<meta property="og:description" content="1.HTTP协议的五大特点1)支持客户/服务器模式2)简单快速3)灵活4)无连接每次连接只处理一个请求，服务器处理完客户的请求，并受到客户的应答后，断开连接。5)无状态协议不会记录服务器客户端状态。
2.保持HTTP连接状态的两种方式1)Cookie在访问统一网站时，可以将信息写入cookie，方便在不同的页面间提取信息。
2)SessionSession保存在服务器上，同时将标识Session的">
<meta property="og:updated_time" content="2017-01-12T01:35:13.464Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="HTTP长连接和短连接">
<meta name="twitter:description" content="1.HTTP协议的五大特点1)支持客户/服务器模式2)简单快速3)灵活4)无连接每次连接只处理一个请求，服务器处理完客户的请求，并受到客户的应答后，断开连接。5)无状态协议不会记录服务器客户端状态。
2.保持HTTP连接状态的两种方式1)Cookie在访问统一网站时，可以将信息写入cookie，方便在不同的页面间提取信息。
2)SessionSession保存在服务器上，同时将标识Session的">
  
  
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>

<body>
  <div class="wrapper">
    <header id="header">
  <div class="title">
    <h1><a href="/">迪米特</a></h1>
    <p><a href="/">路过秋天</a></p>
  </div>
  <nav class="nav">
    <ul>
      
        <li><a href="/">Home</a></li>
      
        <li><a href="/archives">Archives</a></li>
      
        <li><a href="/about">About</a></li>
      
        <li><a href="/atom.xml">rss</a></li>
      
      
    </ul>
    <div class="clearfix"></div>
  </nav>
  <div class="clearfix"></div>
</header>
    <div class="content"><article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2016/12/28/HTTP长连接和短连接/">
  <time datetime="2016-12-28T03:21:00.000Z">
    2016-12-28
  </time>
</a>
    
    
  
    <h1 class="title">HTTP长连接和短连接</h1>
  

  </header>
  
  <div class="entry">
    
      <p>1.HTTP协议的五大特点<br>1)支持客户/服务器模式<br>2)简单快速<br>3)灵活<br>4)无连接<br>每次连接只处理一个请求，服务器处理完客户的请求，并受到客户的应答后，断开连接。<br>5)无状态<br>协议不会记录服务器客户端状态。</p>
<p>2.保持HTTP连接状态的两种方式<br>1)Cookie<br>在访问统一网站时，可以将信息写入cookie，方便在不同的页面间提取信息。</p>
<p>2)Session<br>Session保存在服务器上，同时将标识Session的SessionId传递给客户端浏览器，保存在cookie中，浏览器关闭后，这个cookie就会被清掉。</p>
<p>浏览器每次请求都会额外加上这个参数值，服务器根据这个SessionId，就能取得客户端的数据信息。</p>
<p>3.什么是HTTP长连接，短连接<br>HTTP的长连接，短连接本质上是TCP长连接，短连接。</p>
<p>在HTTP/1.0中，默认使用的是短连接。<br>即浏览器和服务器每进行一次HTTP操作，就建立一次连接，任务结束就中断连接。这样，如果一个网页中包含其他的web资源，如JavaScript文件，图像文件，CSS文件等，都需要建立连接。</p>
<p>从HTTP/1.1起，默认使用长连接。我们可以看到响应头有这样一行代码：Connection:keep-alive<br>当一个网页打开完成后，客户端和服务器之间用于传输HTTP数据的TCP连接不会关闭，如果客户端再次访问这个服务器上的网页，会继续使用这条已经建立的连接。</p>
<p>4.长连接短连接操作过程<br>短连接的操作步骤是：<br>建立连接—-数据传输—-关闭连接…建立连接—-数据传输—-关闭连接<br>长连接的操作步骤是：<br>建立连接—-数据传输…（保持连接）…数据传输—-关闭连接</p>
<p>5.长连接短连接的优缺点<br>长连接可以省去较多的TCP建立和关闭的操作，减少浪费，节约时间。对于频繁请求资源的客户来说，较适用长连接。<br>Client与server之间的连接如果一直不关闭的话，会存在一个问题，随着客户端连接越来越多，server早晚有扛不住的时候，这时候server端需要采取一些策略，如关闭长时间没有读写事件的连接；限制每个客户端的最大长连接数。<br>短连接对服务器来说管理较为简单，存在的连接都是有用的连接。但如果客户请求频繁，将在TCP的建立和关闭上浪费时间和带宽。</p>
<p>6.长连接短连接使用场合<br>长连接多用于操作频繁，点对点的通讯，而且连接数不能太多情况。如数据库的连接。<br>而像web网站的http服务一般用短连接，因为长连接对于服务端来说会耗费一定的资源，而像web网站这么频繁的成千上万甚至上亿客户端的连接用短连接更省资源，如果用长连接，而且同时有成千上万的用户。如果每个用户都占用一个连接的话，那可想而知吧。所以并发量大，但每个用户无需频繁操作的情况下用短连接好。</p>

    
  </div>
  <footer>
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


<section id="comment">
<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="2016/12/28/HTTP长连接和短连接/" data-title="HTTP长连接和短连接" data-url="https://shijingjing07.github.io/2016/12/28/HTTP长连接和短连接/"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"shijingjing07"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- 多说公共JS代码 end -->
</section>
</div>
  </div>
  <footer id="footer"><div class="copyright">
  
  &copy; 2017 <a href="/">迪米特</a>
  
</div>
<div class="theme-copyright">
  Theme by <a href="https://github.com/orderedlist" target="_blank">orderedlist</a>
   | 
  Redesign by <a href="http://heroicyang.com/" target="_blank">Heroic Yang</a>
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
<script src="/js/scale.fix.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
  var duoshuoQuery = { short_name: 'shijingjing07' };
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';
    ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
  (function($){
    $('.fancybox').fancybox();
  })(jQuery);
</script>

</body>
</html>